/**
 * Copyright(c) 2016 SendBird, Inc.
 * SendBird Desk JavaScript SDK v1.0.16
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).SendBirdDesk=e()}(this,function(){"use strict";function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function u(t,e,n){return(u=o()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&a(o,n.prototype),o}).apply(null,arguments)}function e(t){var r="function"==typeof Map?new Map:void 0;return(e=function(t){if(null===t||(e=t,-1===Function.toString.call(e).indexOf("[native code]")))return t;var e;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,n)}function n(){return u(t,arguments,c(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a(n,t)})(t)}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t(i){var a=o();return function(){var t,e,n,r,o=c(i);return e=a?(t=c(this).constructor,Reflect.construct(o,arguments,t)):o.apply(this,arguments),n=this,!(r=e)||"object"!=typeof r&&"function"!=typeof r?s(n):r}}function l(n,r){return function(){for(var t=new Array(arguments.length),e=0;e<t.length;e++)t[e]=arguments[e];return n.apply(r,t)}}var f=Object.prototype.toString;function p(t){return"[object Array]"===f.call(t)}function d(t){return void 0===t}function y(t){return null!==t&&"object"==typeof t}function g(t){return"[object Function]"===f.call(t)}function v(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),p(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}var m={isArray:p,isArrayBuffer:function(t){return"[object ArrayBuffer]"===f.call(t)},isBuffer:function(t){return null!==t&&!d(t)&&null!==t.constructor&&!d(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){var e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer;return e},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:y,isUndefined:d,isDate:function(t){return"[object Date]"===f.call(t)},isFile:function(t){return"[object File]"===f.call(t)},isBlob:function(t){return"[object Blob]"===f.call(t)},isFunction:g,isStream:function(t){return y(t)&&g(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:v,merge:function n(){var r={};function t(t,e){"object"==typeof r[e]&&"object"==typeof t?r[e]=n(r[e],t):r[e]=t}for(var e=0,o=arguments.length;e<o;e++)v(arguments[e],t);return r},deepMerge:function n(){var r={};function t(t,e){"object"==typeof r[e]&&"object"==typeof t?r[e]=n(r[e],t):r[e]="object"==typeof t?n({},t):t}for(var e=0,o=arguments.length;e<o;e++)v(arguments[e],t);return r},extend:function(n,t,r){return v(t,function(t,e){n[e]=r&&"function"==typeof t?l(t,r):t}),n},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}};function E(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function S(t,e,n){if(!e)return t;var r,o,i=n?n(e):m.isURLSearchParams(e)?e.toString():(r=[],m.forEach(e,function(t,e){null!=t&&(m.isArray(t)?e+="[]":t=[t],m.forEach(t,function(t){m.isDate(t)?t=t.toISOString():m.isObject(t)&&(t=JSON.stringify(t)),r.push(E(e)+"="+E(t))}))}),r.join("&"));return i&&(-1!==(o=t.indexOf("#"))&&(t=t.slice(0,o)),t+=(-1===t.indexOf("?")?"?":"&")+i),t}function b(){this.handlers=[]}b.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},b.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},b.prototype.forEach=function(e){m.forEach(this.handlers,function(t){null!==t&&e(t)})};function R(e,n,t){return m.forEach(t,function(t){e=t(e,n)}),e}function k(t){return!(!t||!t.__CANCEL__)}function I(n,r){m.forEach(n,function(t,e){e!==r&&e.toUpperCase()===r.toUpperCase()&&(n[r]=t,delete n[e])})}function O(t,e,n,r,o){var i,a,c,u,s,l=new Error(t);return a=e,c=n,u=r,s=o,(i=l).config=a,c&&(i.code=c),i.request=u,i.response=s,i.isAxiosError=!0,i.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},i}var T,A,w,D=b,_=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],N=m.isStandardBrowserEnv()?(A=/(msie|trident)/i.test(navigator.userAgent),w=document.createElement("a"),T=C(window.location.href),function(t){var e=m.isString(t)?C(t):t;return e.protocol===T.protocol&&e.host===T.host}):function(){return!0};function C(t){var e=t;return A&&(w.setAttribute("href",e),e=w.href),w.setAttribute("href",e),{href:w.href,protocol:w.protocol?w.protocol.replace(/:$/,""):"",host:w.host,search:w.search?w.search.replace(/^\?/,""):"",hash:w.hash?w.hash.replace(/^#/,""):"",hostname:w.hostname,port:w.port,pathname:"/"===w.pathname.charAt(0)?w.pathname:"/"+w.pathname}}function x(h){return new Promise(function(f,p){var n=h.data,r=h.headers;m.isFormData(n)&&delete r["Content-Type"];var t,e,d=new XMLHttpRequest;h.auth&&(t=h.auth.username||"",e=h.auth.password||"",r.Authorization="Basic "+btoa(t+":"+e));var o,i,a,c,u,s,l=(o=h.baseURL,i=h.url,o&&!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(i)?(a=o,(c=i)?a.replace(/\/+$/,"")+"/"+c.replace(/^\/+/,""):a):i);if(d.open(h.method.toUpperCase(),S(l,h.params,h.paramsSerializer),!0),d.timeout=h.timeout,d.onreadystatechange=function(){var t,e,n,r,o,i,a,c,u,s,l;d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))&&(t="getAllResponseHeaders"in d?(e=d.getAllResponseHeaders(),i={},e&&m.forEach(e.split("\n"),function(t){if(o=t.indexOf(":"),n=m.trim(t.substr(0,o)).toLowerCase(),r=m.trim(t.substr(o+1)),n){if(i[n]&&0<=_.indexOf(n))return;i[n]="set-cookie"===n?(i[n]?i[n]:[]).concat([r]):i[n]?i[n]+", "+r:r}}),i):null,a={data:h.responseType&&"text"!==h.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:t,config:h,request:d},c=f,u=p,!(l=(s=a).config.validateStatus)||l(s.status)?c(s):u(O("Request failed with status code "+s.status,s.config,null,s.request,s)),d=null)},d.onabort=function(){d&&(p(O("Request aborted",h,"ECONNABORTED",d)),d=null)},d.onerror=function(){p(O("Network Error",h,null,d)),d=null},d.ontimeout=function(){var t="timeout of "+h.timeout+"ms exceeded";h.timeoutErrorMessage&&(t=h.timeoutErrorMessage),p(O(t,h,"ECONNABORTED",d)),d=null},m.isStandardBrowserEnv()&&(u=P,(s=(h.withCredentials||N(l))&&h.xsrfCookieName?u.read(h.xsrfCookieName):void 0)&&(r[h.xsrfHeaderName]=s)),"setRequestHeader"in d&&m.forEach(r,function(t,e){void 0===n&&"content-type"===e.toLowerCase()?delete r[e]:d.setRequestHeader(e,t)}),m.isUndefined(h.withCredentials)||(d.withCredentials=!!h.withCredentials),h.responseType)try{d.responseType=h.responseType}catch(t){if("json"!==h.responseType)throw t}"function"==typeof h.onDownloadProgress&&d.addEventListener("progress",h.onDownloadProgress),"function"==typeof h.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",h.onUploadProgress),h.cancelToken&&h.cancelToken.promise.then(function(t){d&&(d.abort(),p(t),d=null)}),void 0===n&&(n=null),d.send(n)})}var P=m.isStandardBrowserEnv()?{write:function(t,e,n,r,o,i){var a=[];a.push(t+"="+encodeURIComponent(e)),m.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),m.isString(r)&&a.push("path="+r),m.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},j={"Content-Type":"application/x-www-form-urlencoded"};function U(t,e){!m.isUndefined(t)&&m.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var F,L={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(F=x),F),transformRequest:[function(t,e){return I(e,"Accept"),I(e,"Content-Type"),m.isFormData(t)||m.isArrayBuffer(t)||m.isBuffer(t)||m.isStream(t)||m.isFile(t)||m.isBlob(t)?t:m.isArrayBufferView(t)?t.buffer:m.isURLSearchParams(t)?(U(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):m.isObject(t)?(U(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return 200<=t&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};m.forEach(["delete","get","head"],function(t){L.headers[t]={}}),m.forEach(["post","put","patch"],function(t){L.headers[t]=m.merge(j)});var M=L;function B(t){t.cancelToken&&t.cancelToken.throwIfRequested()}function G(e){return B(e),e.headers=e.headers||{},e.data=R(e.data,e.headers,e.transformRequest),e.headers=m.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),m.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||M.adapter)(e).then(function(t){return B(e),t.data=R(t.data,t.headers,e.transformResponse),t},function(t){return k(t)||(B(e),t&&t.response&&(t.response.data=R(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}function K(e,n){n=n||{};var r={},t=["url","method","params","data"],o=["headers","auth","proxy"],i=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];m.forEach(t,function(t){void 0!==n[t]&&(r[t]=n[t])}),m.forEach(o,function(t){m.isObject(n[t])?r[t]=m.deepMerge(e[t],n[t]):void 0!==n[t]?r[t]=n[t]:m.isObject(e[t])?r[t]=m.deepMerge(e[t]):void 0!==e[t]&&(r[t]=e[t])}),m.forEach(i,function(t){void 0!==n[t]?r[t]=n[t]:void 0!==e[t]&&(r[t]=e[t])});var a=t.concat(o).concat(i),c=Object.keys(n).filter(function(t){return-1===a.indexOf(t)});return m.forEach(c,function(t){void 0!==n[t]?r[t]=n[t]:void 0!==e[t]&&(r[t]=e[t])}),r}function H(t){this.defaults=t,this.interceptors={request:new D,response:new D}}H.prototype.request=function(t,e){"string"==typeof t?(t=e||{}).url=arguments[0]:t=t||{},(t=K(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=[G,void 0],r=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){n.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){n.push(t.fulfilled,t.rejected)});n.length;)r=r.then(n.shift(),n.shift());return r},H.prototype.getUri=function(t){return t=K(this.defaults,t),S(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},m.forEach(["delete","get","head","options"],function(n){H.prototype[n]=function(t,e){return this.request(m.merge(e||{},{method:n,url:t}))}}),m.forEach(["post","put","patch"],function(r){H.prototype[r]=function(t,e,n){return this.request(m.merge(n||{},{method:r,url:t,data:e}))}});var z=H;function V(t){this.message=t}V.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},V.prototype.__CANCEL__=!0;var J=V;function q(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new J(t),e(n.reason))})}q.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},q.source=function(){var e;return{token:new q(function(t){e=t}),cancel:e}};var Q=q;function W(t){var e=new z(t),n=l(z.prototype.request,e);return m.extend(n,z.prototype,e),m.extend(n,e),n}var $=W(M);$.Axios=z,$.create=function(t){return W(K($.defaults,t))},$.Cancel=J,$.CancelToken=Q,$.isCancel=k,$.all=function(t){return Promise.all(t)},$.spread=function(e){return function(t){return e.apply(null,t)}};var X=$;X.default=$;function Y(t){try{return!!t()}catch(t){return!0}}function Z(t){return rt.call(t).slice(8,-1)}function tt(t){if(null==t)throw TypeError("Can't call method on "+t);return t}function et(t){return it(tt(t))}var nt=X,rt={}.toString,ot="".split,it=Y(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==Z(t)?ot.call(t,""):Object(t)}:Object,at="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function ct(t,e){return t(e={exports:{}},e.exports),e.exports}function ut(t){return t&&t.Math==Math&&t}function st(t){return"object"==typeof t?null!==t:"function"==typeof t}function lt(t){return Nt?_t.createElement(t):{}}function ft(t){if(!st(t))throw TypeError(String(t)+" is not an object");return t}function pt(t,e){if(!st(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!st(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!st(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!st(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}function dt(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}function ht(e,n){try{jt(wt,e,n)}catch(t){wt[e]=n}return n}function yt(t,e){return Mt.call(t,e)}function gt(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++Bt+Gt).toString(36)}function vt(t){return yt(zt,t)||(Kt&&yt(Vt,t)?zt[t]=Vt[t]:zt[t]=Jt("Symbol."+t)),zt[t]}function mt(t){return isNaN(t=+t)?0:(0<t?Qt:qt)(t)}function Et(t){return 0<t?Wt(mt(t),9007199254740991):0}function St(s){return function(t,e,n){var r,o,i,a=et(t),c=Et(a.length),u=(r=c,(o=mt(n))<0?$t(o+r,0):Xt(o,r));if(s&&e!=e){for(;u<c;)if((i=a[u++])!=i)return!0}else for(;u<c;u++)if((s||u in a)&&a[u]===e)return s||u||0;return!s&&-1}}function bt(t,e){var n,r=et(t),o=0,i=[];for(n in r)!yt(Zt,n)&&yt(r,n)&&i.push(n);for(;e.length>o;)yt(r,n=e[o++])&&(~te(i,n)||i.push(n));return i}function Rt(t){return"function"==typeof t?t:void 0}function kt(t,e){return arguments.length<2?Rt(oe[t])||Rt(wt[t]):oe[t]&&oe[t][e]||wt[t]&&wt[t][e]}function It(t){return ae[t]||(ae[t]=gt(t))}function Ot(){}function Tt(t){return"<script>"+t+"</"+ue+">"}var At,wt=ut("object"==typeof globalThis&&globalThis)||ut("object"==typeof window&&window)||ut("object"==typeof self&&self)||ut("object"==typeof at&&at)||function(){return this}()||Function("return this")(),Dt=!Y(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),_t=wt.document,Nt=st(_t)&&st(_t.createElement),Ct=!Dt&&!Y(function(){return 7!=Object.defineProperty(lt("div"),"a",{get:function(){return 7}}).a}),xt=Object.defineProperty,Pt={f:Dt?xt:function(t,e,n){if(ft(t),e=pt(e,!0),ft(n),Ct)try{return xt(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},jt=Dt?function(t,e,n){return Pt.f(t,e,dt(1,n))}:function(t,e,n){return t[e]=n,t},Ut="__core-js_shared__",Ft=wt[Ut]||ht(Ut,{}),Lt=ct(function(t){(t.exports=function(t,e){return Ft[t]||(Ft[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.8.0",mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})}),Mt={}.hasOwnProperty,Bt=0,Gt=Math.random(),Kt=!!Object.getOwnPropertySymbols&&!Y(function(){return!String(Symbol())}),Ht=Kt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,zt=Lt("wks"),Vt=wt.Symbol,Jt=Ht?Vt:Vt&&Vt.withoutSetter||gt,qt=Math.ceil,Qt=Math.floor,Wt=Math.min,$t=Math.max,Xt=Math.min,Yt={includes:St(!0),indexOf:St(!1)},Zt={},te=Yt.indexOf,ee=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ne=Object.keys||function(t){return bt(t,ee)},re=Dt?Object.defineProperties:function(t,e){ft(t);for(var n,r=ne(e),o=r.length,i=0;i<o;)Pt.f(t,n=r[i++],e[n]);return t},oe=wt,ie=kt("document","documentElement"),ae=Lt("keys"),ce="prototype",ue="script",se=It("IE_PROTO"),le=function(){try{At=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;le=At?function(t){t.write(Tt("")),t.close();var e=t.parentWindow.Object;return t=null,e}(At):((e=lt("iframe")).style.display="none",ie.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Tt("document.F=Object")),t.close(),t.F);for(var n=ee.length;n--;)delete le[ce][ee[n]];return le()};Zt[se]=!0;var fe=Object.create||function(t,e){var n;return null!==t?(Ot[ce]=ft(t),n=new Ot,Ot[ce]=null,n[se]=t):n=le(),void 0===e?n:re(n,e)},pe=vt("unscopables"),de=Array.prototype;null==de[pe]&&Pt.f(de,pe,{configurable:!0,value:fe(null)});function he(t){de[pe][t]=!0}var ye={},ge=Function.toString;"function"!=typeof Ft.inspectSource&&(Ft.inspectSource=function(t){return ge.call(t)});var ve,me,Ee,Se,be,Re,ke,Ie,Oe=Ft.inspectSource,Te=wt.WeakMap,Ae="function"==typeof Te&&/native code/.test(Oe(Te)),we=wt.WeakMap;ke=Ae?(ve=Ft.state||(Ft.state=new we),me=ve.get,Ee=ve.has,Se=ve.set,be=function(t,e){return e.facade=t,Se.call(ve,t,e),e},Re=function(t){return me.call(ve,t)||{}},function(t){return Ee.call(ve,t)}):(Ie=It("state"),Zt[Ie]=!0,be=function(t,e){return e.facade=t,jt(t,Ie,e),e},Re=function(t){return yt(t,Ie)?t[Ie]:{}},function(t){return yt(t,Ie)});function De(t,e){var n=Qe[qe(t)];return n==$e||n!=We&&("function"==typeof e?Y(e):!!e)}function _e(t,e){var n,r,o,i,a=t.target,c=t.global,u=t.stat,s=c?wt:u?wt[a]||ht(a,{}):(wt[a]||{}).prototype;if(s)for(n in e){if(o=e[n],r=t.noTargetGet?(i=Ye(s,n))&&i.value:s[n],!Xe(c?n:a+(u?".":"#")+n,t.forced)&&void 0!==r){if(typeof o==typeof r)continue;!function(t,e){for(var n=Ve(e),r=Pt.f,o=Be.f,i=0;i<n.length;i++){var a=n[i];yt(t,a)||r(t,a,o(e,a))}}(o,r)}(t.sham||r&&r.sham)&&jt(o,"sham",!0),Ge(s,n,o,t)}}function Ne(t){return Object(tt(t))}var Ce,xe,Pe,je={set:be,get:Re,has:ke,enforce:function(t){return ke(t)?Re(t):be(t,{})},getterFor:function(n){return function(t){var e;if(!st(t)||(e=Re(t)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return e}}},Ue={}.propertyIsEnumerable,Fe=Object.getOwnPropertyDescriptor,Le={f:Fe&&!Ue.call({1:2},1)?function(t){var e=Fe(this,t);return!!e&&e.enumerable}:Ue},Me=Object.getOwnPropertyDescriptor,Be={f:Dt?Me:function(t,e){if(t=et(t),e=pt(e,!0),Ct)try{return Me(t,e)}catch(t){}if(yt(t,e))return dt(!Le.f.call(t,e),t[e])}},Ge=ct(function(t){var e=je.get,u=je.enforce,s=String(String).split("String");(t.exports=function(t,e,n,r){var o,i=!!r&&!!r.unsafe,a=!!r&&!!r.enumerable,c=!!r&&!!r.noTargetGet;"function"==typeof n&&("string"!=typeof e||yt(n,"name")||jt(n,"name",e),(o=u(n)).source||(o.source=s.join("string"==typeof e?e:""))),t!==wt?(i?!c&&t[e]&&(a=!0):delete t[e],a?t[e]=n:jt(t,e,n)):a?t[e]=n:ht(e,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&e(this).source||Oe(this)})}),Ke=ee.concat("length","prototype"),He={f:Object.getOwnPropertyNames||function(t){return bt(t,Ke)}},ze={f:Object.getOwnPropertySymbols},Ve=kt("Reflect","ownKeys")||function(t){var e=He.f(ft(t)),n=ze.f;return n?e.concat(n(t)):e},Je=/#|\.prototype\./,qe=De.normalize=function(t){return String(t).replace(Je,".").toLowerCase()},Qe=De.data={},We=De.NATIVE="N",$e=De.POLYFILL="P",Xe=De,Ye=Be.f,Ze=!Y(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),tn=It("IE_PROTO"),en=Object.prototype,nn=Ze?Object.getPrototypeOf:function(t){return t=Ne(t),yt(t,tn)?t[tn]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?en:null},rn=vt("iterator"),on=!1;[].keys&&("next"in(Pe=[].keys())?(xe=nn(nn(Pe)))!==Object.prototype&&(Ce=xe):on=!0),null==Ce&&(Ce={}),yt(Ce,rn)||jt(Ce,rn,function(){return this});function an(t,e,n){t&&!yt(t=n?t:t.prototype,pn)&&fn(t,pn,{configurable:!0,value:e})}function cn(){return this}function un(){return this}function sn(t,e,n,r,o,i,a){var c,u,s;function l(t){if(t===o&&m)return m;if(!gn&&t in g)return g[t];switch(t){case"keys":case mn:case En:return function(){return new n(this,t)}}return function(){return new n(this)}}u=r,s=e+" Iterator",(c=n).prototype=fe(dn,{next:dt(1,u)}),an(c,s,!1),ye[s]=cn;var f,p,d,h=e+" Iterator",y=!1,g=t.prototype,v=g[vn]||g["@@iterator"]||o&&g[o],m=!gn&&v||l(o),E="Array"==e&&g.entries||v;if(E&&(f=nn(E.call(new t)),yn!==Object.prototype&&f.next&&(nn(f)!==yn&&(hn?hn(f,yn):"function"!=typeof f[vn]&&jt(f,vn,un)),an(f,h,!0))),o==mn&&v&&v.name!==mn&&(y=!0,m=function(){return v.call(this)}),g[vn]!==m&&jt(g,vn,m),ye[e]=m,o)if(p={values:l(mn),keys:i?m:l("keys"),entries:l(En)},a)for(d in p)!gn&&!y&&d in g||Ge(g,d,p[d]);else _e({target:e,proto:!0,forced:gn||y},p);return p}var ln={IteratorPrototype:Ce,BUGGY_SAFARI_ITERATORS:on},fn=Pt.f,pn=vt("toStringTag"),dn=ln.IteratorPrototype,hn=Object.setPrototypeOf||("__proto__"in{}?function(){var n,r=!1,t={};try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(t,[]),r=t instanceof Array}catch(t){}return function(t,e){return ft(t),function(t){if(!st(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(e),r?n.call(t,e):t.__proto__=e,t}}():void 0),yn=ln.IteratorPrototype,gn=ln.BUGGY_SAFARI_ITERATORS,vn=vt("iterator"),mn="values",En="entries",Sn="Array Iterator",bn=je.set,Rn=je.getterFor(Sn),kn=sn(Array,"Array",function(t,e){bn(this,{type:Sn,target:et(t),index:0,kind:e})},function(){var t=Rn(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?{value:t.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values");ye.Arguments=ye.Array,he("keys"),he("values"),he("entries");var In={};In[vt("toStringTag")]="z";var On="[object z]"===String(In),Tn=vt("toStringTag"),An="Arguments"==Z(function(){return arguments}()),wn=On?Z:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Tn))?n:An?Z(e):"Object"==(r=Z(e))&&"function"==typeof e.callee?"Arguments":r},Dn=On?{}.toString:function(){return"[object "+wn(this)+"]"};On||Ge(Object.prototype,"toString",Dn,{unsafe:!0});function _n(t,e){return RegExp(t,e)}var Nn,Cn,xn={UNSUPPORTED_Y:Y(function(){var t=_n("a","y");return t.lastIndex=2,null!=t.exec("abcd")}),BROKEN_CARET:Y(function(){var t=_n("^r","gy");return t.lastIndex=2,null!=t.exec("str")})},Pn=RegExp.prototype.exec,jn=String.prototype.replace,Un=Pn,Fn=(Nn=/a/,Cn=/b*/g,Pn.call(Nn,"a"),Pn.call(Cn,"a"),0!==Nn.lastIndex||0!==Cn.lastIndex),Ln=xn.UNSUPPORTED_Y||xn.BROKEN_CARET,Mn=void 0!==/()??/.exec("")[1];(Fn||Mn||Ln)&&(Un=function(t){var e,n,r,o,i=this,a=Ln&&i.sticky,c=function(){var t=ft(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}.call(i),u=i.source,s=0,l=t;return a&&(-1===(c=c.replace("y","")).indexOf("g")&&(c+="g"),l=String(t).slice(i.lastIndex),0<i.lastIndex&&(!i.multiline||i.multiline&&"\n"!==t[i.lastIndex-1])&&(u="(?: "+u+")",l=" "+l,s++),n=new RegExp("^(?:"+u+")",c)),Mn&&(n=new RegExp("^"+u+"$(?!\\s)",c)),Fn&&(e=i.lastIndex),r=Pn.call(a?n:i,l),a?r?(r.input=r.input.slice(s),r[0]=r[0].slice(s),r.index=i.lastIndex,i.lastIndex+=r[0].length):i.lastIndex=0:Fn&&r&&(i.lastIndex=i.global?r.index+r[0].length:e),Mn&&r&&1<r.length&&jn.call(r[0],n,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)}),r});var Bn=Un;_e({target:"RegExp",proto:!0,forced:/./.exec!==Bn},{exec:Bn});function Gn(c){return function(t,e){var n,r,o=String(tt(t)),i=mt(e),a=o.length;return i<0||a<=i?c?"":void 0:(n=o.charCodeAt(i))<55296||56319<n||i+1===a||(r=o.charCodeAt(i+1))<56320||57343<r?c?o.charAt(i):n:c?o.slice(i,i+2):r-56320+(n-55296<<10)+65536}}var Kn={codeAt:Gn(!1),charAt:Gn(!0)},Hn=Kn.charAt,zn="String Iterator",Vn=je.set,Jn=je.getterFor(zn);sn(String,"String",function(t){Vn(this,{type:zn,string:String(t),index:0})},function(){var t,e=Jn(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=Hn(n,r),e.index+=t.length,{value:t,done:!1})});function qn(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}function Qn(t,e){var n=t.exec;if("function"==typeof n){var r=n.call(t,e);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==Z(t))throw TypeError("RegExp#exec called on incompatible receiver");return Bn.call(t,e)}var Wn,$n,Xn,Yn,Zn,tr,er,nr,rr,or,ir,ar=vt("species"),cr=!Y(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),ur="$0"==="a".replace(/./,"$0"),sr=vt("replace"),lr=!!/./[sr]&&""===/./[sr]("a","$0"),fr=!Y(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}),pr=vt("match"),dr=vt("species"),hr=Kn.charAt,yr=[].push,gr=Math.min,vr=4294967295,mr=!Y(function(){return!RegExp(vr,"y")});$n=2,Xn=function(o,b,R){var k="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(t,e){var n,r,o=String(tt(this)),i=void 0===e?vr:e>>>0;if(0==i)return[];if(void 0===t)return[o];if(!st(n=t)||(void 0!==(r=n[pr])?!r:"RegExp"!=Z(n)))return b.call(o,t,i);for(var a,c,u,s=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,p=new RegExp(t.source,l+"g");(a=Bn.call(p,o))&&!(f<(c=p.lastIndex)&&(s.push(o.slice(f,a.index)),1<a.length&&a.index<o.length&&yr.apply(s,a.slice(1)),u=a[0].length,f=c,s.length>=i));)p.lastIndex===a.index&&p.lastIndex++;return f===o.length?!u&&p.test("")||s.push(""):s.push(o.slice(f)),s.length>i?s.slice(0,i):s}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:b.call(this,t,e)}:b;return[function(t,e){var n=tt(this),r=null==t?void 0:t[o];return void 0!==r?r.call(t,n,e):k.call(String(n),t,e)},function(t,e){var n=R(k,t,this,e,k!==b);if(n.done)return n.value;var r,o,i,a=ft(t),c=String(this),u=(r=RegExp,void 0===(i=ft(a).constructor)||null==(o=ft(i)[dr])?r:qn(o)),s=a.unicode,l=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(mr?"y":"g"),f=new u(mr?a:"^(?:"+a.source+")",l),p=void 0===e?vr:e>>>0;if(0==p)return[];if(0===c.length)return null===Qn(f,c)?[c]:[];for(var d,h,y=0,g=0,v=[];g<c.length;){f.lastIndex=mr?g:0;var m,E=Qn(f,mr?c:c.slice(g));if(null===E||(m=gr(Et(f.lastIndex+(mr?0:g)),c.length))===y)d=c,g=(h=g)+(s?hr(d,h).length:1);else{if(v.push(c.slice(y,g)),v.length===p)return v;for(var S=1;S<=E.length-1;S++)if(v.push(E[S]),v.length===p)return v;g=y=m}}return v.push(c.slice(y)),v}]},Yn=!mr,rr=vt(Wn="split"),or=!Y(function(){var t={};return t[rr]=function(){return 7},7!=""[Wn](t)}),ir=or&&!Y(function(){var t=!1,e=/a/;return"split"===Wn&&((e={constructor:{}}).constructor[ar]=function(){return e},e.flags="",e[rr]=/./[rr]),e.exec=function(){return t=!0,null},e[rr](""),!t}),or&&ir&&("replace"!==Wn||cr&&ur&&!lr)&&("split"!==Wn||fr)||(Zn=/./[rr],er=(tr=Xn(rr,""[Wn],function(t,e,n,r,o){return e.exec===Bn?or&&!o?{done:!0,value:Zn.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}},{REPLACE_KEEPS_$0:ur,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:lr}))[0],nr=tr[1],Ge(String.prototype,Wn,er),Ge(RegExp.prototype,rr,2==$n?function(t,e){return nr.call(t,this,e)}:function(t){return nr.call(t,this)})),Yn&&jt(RegExp.prototype[rr],"sham",!0);function Er(t,e,n){for(var r in e)Ge(t,r,e[r],n);return t}function Sr(r,o,t){if(qn(r),void 0===o)return r;switch(t){case 0:return function(){return r.call(o)};case 1:return function(t){return r.call(o,t)};case 2:return function(t,e){return r.call(o,t,e)};case 3:return function(t,e,n){return r.call(o,t,e,n)}}return function(){return r.apply(o,arguments)}}function br(t){var e=t.return;return void 0!==e&&ft(e.call(t)).value}function Rr(t,e){this.stopped=t,this.result=e}function kr(t,e,n){function r(t){return i&&br(i),new Rr(!0,t)}function o(t){return h?(ft(t),g?v(t[0],t[1],r):v(t[0],t[1])):g?v(t,r):v(t)}var i,a,c,u,s,l,f,p,d=n&&n.that,h=!(!n||!n.AS_ENTRIES),y=!(!n||!n.IS_ITERATOR),g=!(!n||!n.INTERRUPTED),v=Sr(e,d,1+h+g);if(y)i=t;else{if("function"!=typeof(a=function(t){if(null!=t)return t[Dr]||t["@@iterator"]||ye[wn(t)]}(t)))throw TypeError("Target is not iterable");if(void 0!==(p=a)&&(ye.Array===p||wr[Ar]===p)){for(c=0,u=Et(t.length);c<u;c++)if((s=o(t[c]))&&s instanceof Rr)return s;return new Rr(!1)}i=a.call(t)}for(l=i.next;!(f=l.call(i)).done;){try{s=o(f.value)}catch(t){throw br(i),t}if("object"==typeof s&&s&&s instanceof Rr)return s}return new Rr(!1)}function Ir(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}var Or=!Y(function(){return Object.isExtensible(Object.preventExtensions({}))}),Tr=ct(function(t){function n(t){e(t,r,{value:{objectID:"O"+ ++o,weakData:{}}})}var e=Pt.f,r=gt("meta"),o=0,i=Object.isExtensible||function(){return!0},a=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!st(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!yt(t,r)){if(!i(t))return"F";if(!e)return"E";n(t)}return t[r].objectID},getWeakData:function(t,e){if(!yt(t,r)){if(!i(t))return!0;if(!e)return!1;n(t)}return t[r].weakData},onFreeze:function(t){return Or&&a.REQUIRED&&i(t)&&!yt(t,r)&&n(t),t}};Zt[r]=!0}),Ar=(Tr.REQUIRED,Tr.fastKey,Tr.getWeakData,Tr.onFreeze,vt("iterator")),wr=Array.prototype,Dr=vt("iterator"),_r=vt("iterator"),Nr=!1;try{var Cr=0,xr={next:function(){return{done:!!Cr++}},return:function(){Nr=!0}};xr[_r]=function(){return this},Array.from(xr,function(){throw 2})}catch(t){}function Pr(u,t,e){function n(t){var n=d[t];Ge(d,t,"add"==t?function(t){return n.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(l&&!st(t))&&n.call(this,0===t?0:t)}:"get"==t?function(t){return l&&!st(t)?void 0:n.call(this,0===t?0:t)}:"has"==t?function(t){return!(l&&!st(t))&&n.call(this,0===t?0:t)}:function(t,e){return n.call(this,0===t?0:t,e),this})}var r,o,i,a,c,s=-1!==u.indexOf("Map"),l=-1!==u.indexOf("Weak"),f=s?"set":"add",p=wt[u],d=p&&p.prototype,h=p,y={};return Xe(u,"function"!=typeof p||!(l||d.forEach&&!Y(function(){(new p).entries().next()})))?(h=e.getConstructor(t,u,s,f),Tr.REQUIRED=!0):Xe(u,!0)&&(o=(r=new h)[f](l?{}:-0,1)!=r,i=Y(function(){r.has(1)}),a=function(t,e){if(!e&&!Nr)return!1;var n=!1;try{var r={};r[_r]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}(function(t){new p(t)}),c=!l&&Y(function(){for(var t=new p,e=5;e--;)t[f](e,e);return!t.has(-0)}),a||(((h=t(function(t,e){Ir(t,h,u);var n,r,o,i,a,c=(n=new p,r=t,o=h,hn&&"function"==typeof(i=r.constructor)&&i!==o&&st(a=i.prototype)&&a!==o.prototype&&hn(n,a),n);return null!=e&&kr(e,c[f],{that:c,AS_ENTRIES:s}),c})).prototype=d).constructor=h),(i||c)&&(n("delete"),n("has"),s&&n("get")),(c||o)&&n(f),l&&d.clear&&delete d.clear),y[u]=h,_e({global:!0,forced:h!=p},y),an(h,u),l||e.setStrong(h,u,s),h}function jr(t,e){var n;return Mr(t)&&("function"==typeof(n=t.constructor)&&(n===Array||Mr(n.prototype))||st(n)&&null===(n=n[Br]))&&(n=void 0),new(void 0===n?Array:n)(0===e?0:e)}function Ur(d){var h=1==d,y=2==d,g=3==d,v=4==d,m=6==d,E=7==d,S=5==d||m;return function(t,e,n,r){for(var o,i,a=Ne(t),c=it(a),u=Sr(e,n,3),s=Et(c.length),l=0,f=r||jr,p=h?f(t,s):y||E?f(t,0):void 0;l<s;l++)if((S||l in c)&&(i=u(o=c[l],l,a),d))if(h)p[l]=i;else if(i)switch(d){case 3:return!0;case 5:return o;case 6:return l;case 2:Gr.call(p,o)}else switch(d){case 4:return!1;case 7:Gr.call(p,o)}return m?-1:g||v?v:p}}function Fr(t){return t.frozen||(t.frozen=new Wr)}function Lr(t,e){return Jr(t.entries,function(t){return t[0]===e})}var Mr=Array.isArray||function(t){return"Array"==Z(t)},Br=vt("species"),Gr=[].push,Kr={forEach:Ur(0),map:Ur(1),filter:Ur(2),some:Ur(3),every:Ur(4),find:Ur(5),findIndex:Ur(6),filterOut:Ur(7)},Hr=Tr.getWeakData,zr=je.set,Vr=je.getterFor,Jr=Kr.find,qr=Kr.findIndex,Qr=0,Wr=function(){this.entries=[]};Wr.prototype={get:function(t){var e=Lr(this,t);if(e)return e[1]},has:function(t){return!!Lr(this,t)},set:function(t,e){var n=Lr(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(e){var t=qr(this.entries,function(t){return t[0]===e});return~t&&this.entries.splice(t,1),!!~t}};var $r={getConstructor:function(t,n,r,o){function i(t,e,n){var r=c(t),o=Hr(ft(e),!0);return!0===o?Fr(r).set(e,n):o[r.id]=n,t}var a=t(function(t,e){Ir(t,a,n),zr(t,{type:n,id:Qr++,frozen:void 0}),null!=e&&kr(e,t[o],{that:t,AS_ENTRIES:r})}),c=Vr(n);return Er(a.prototype,{delete:function(t){var e=c(this);if(!st(t))return!1;var n=Hr(t);return!0===n?Fr(e).delete(t):n&&yt(n,e.id)&&delete n[e.id]},has:function(t){var e=c(this);if(!st(t))return!1;var n=Hr(t);return!0===n?Fr(e).has(t):n&&yt(n,e.id)}}),Er(a.prototype,r?{get:function(t){var e=c(this);if(st(t)){var n=Hr(t);return!0===n?Fr(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return i(this,t,e)}}:{add:function(t){return i(this,t,!0)}}),a}},Xr=(ct(function(t){function e(e){return function(t){return e(this,arguments.length?t:void 0)}}var r,n,o,i,a,c,u=je.enforce,s=!wt.ActiveXObject&&"ActiveXObject"in wt,l=Object.isExtensible,f=t.exports=Pr("WeakMap",e,$r);Ae&&s&&(r=$r.getConstructor(e,"WeakMap",!0),Tr.REQUIRED=!0,n=f.prototype,o=n.delete,i=n.has,a=n.get,c=n.set,Er(n,{delete:function(t){if(!st(t)||l(t))return o.call(this,t);var e=u(this);return e.frozen||(e.frozen=new r),o.call(this,t)||e.frozen.delete(t)},has:function(t){if(!st(t)||l(t))return i.call(this,t);var e=u(this);return e.frozen||(e.frozen=new r),i.call(this,t)||e.frozen.has(t)},get:function(t){if(!st(t)||l(t))return a.call(this,t);var e=u(this);return e.frozen||(e.frozen=new r),i.call(this,t)?a.call(this,t):e.frozen.get(t)},set:function(t,e){var n;return st(t)&&!l(t)?((n=u(this)).frozen||(n.frozen=new r),i.call(this,t)?c.call(this,t,e):n.frozen.set(t,e)):c.call(this,t,e),this}}))}),{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),Yr=vt("iterator"),Zr=vt("toStringTag"),to=kn.values;for(var eo in Xr){var no=wt[eo],ro=no&&no.prototype;if(ro){if(ro[Yr]!==to)try{jt(ro,Yr,to)}catch(t){ro[Yr]=to}if(ro[Zr]||jt(ro,Zr,eo),Xr[eo])for(var oo in kn)if(ro[oo]!==kn[oo])try{jt(ro,oo,kn[oo])}catch(t){ro[oo]=kn[oo]}}}var io=function(){function t(){i(this,t)}return n(t,null,[{key:"write",value:function(){var t;so.isDebugMode&&(t=console).log.apply(t,arguments)}},{key:"error",value:function(){var t;so.isDebugMode&&(t=console).error.apply(t,arguments)}}]),t}(),ao=new WeakMap,co=null,uo=null,so=function(){function o(){i(this,o)}return n(o,null,[{key:"setDebugMode",value:function(){ao.set(this,!0)}},{key:"unsetDebugMode",value:function(){ao.set(this,!1)}},{key:"getParamsFromCallback",value:function(t,e){return{result:t,err:e,reversed:!1}}},{key:"callback",value:function(t,e,n){var r;n&&((r=o.getParamsFromCallback(t,e)).err&&io.error(r.err),r.reversed?n(r.err,r.result):n(r.result,r.err))}},{key:"isSendBirdSdkCompatible",value:function(t){var e="3.0.55".split("."),n=t.split(".");if(e.length!==n.length)return!1;for(var r in e)if(parseInt(e[r])>parseInt(n[r]))return!1;return!0}},{key:"sendBird",get:function(){return co},set:function(t){co=t}},{key:"isDebugMode",get:function(){return ao.get(this)}},{key:"apiHost",get:function(){var t;return uo||(t=co.getInstance(),uo="https://desk-api-".concat(t.getApplicationId(),".sendbird.com/sapi")),uo},set:function(t){uo=t}},{key:"sdkVersion",get:function(){return"1.0.16"}},{key:"minSendBirdVersion",get:function(){return"3.0.55"}}]),o}(),lo=Pt.f,fo=Function.prototype,po=fo.toString,ho=/^\s*function ([^ (]*)/;!Dt||"name"in fo||lo(fo,"name",{configurable:!0,get:function(){try{return po.call(this).match(ho)[1]}catch(t){return""}}});function yo(t,e,n){var r=pt(e);r in t?Pt.f(t,r,dt(0,n)):t[r]=n}var go,vo,mo={ERROR_SENDBIRD_SDK_MISSING:{code:100,message:"SendBird SDK is missing."},ERROR_SENDBIRD_SDK_VERSION_NOT_SUPPORTED:{code:101,message:"This SendBird SDK version is not supported."},ERROR_SENDBIRD_DESK_INIT_MISSING:{code:102,message:"SendBird Desk SDK is not initialized. It should be done before authentication."},ERROR_SENDBIRD_SDK_MESSAGE_LIST_FAILED:{code:200,message:"Cannot load messages in SDK client."},ERROR_INVALID_PARAMETER:{code:403,message:"Invalid parameter."},ERROR_DATA_NOT_FOUND:{code:404,message:"Data not found."},ERROR_REQUEST_TIMEOUT:{code:409,message:"Request timed-out."},ERROR_REQUEST:{code:500,message:"Request failed."},ERROR_REQUEST_CANCELED:{code:501,message:"Request canceled."}},Eo=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(o,e(Error));var r=t(o);function o(t,e){var n;return i(this,o),n=r.call(this,t),"function"==typeof Error.captureStackTrace?Error.captureStackTrace(s(n),n.constructor):n.stack=new Error(t).stack,n.name="SendBirdDeskError",n.message=t,n.code=e,n}return n(o,null,[{key:"create",value:function(t){return t?new o(t.message,t.code):new Error("SendBirdDeskError type missing.")}},{key:"throw",value:function(t){if(t)throw new o(t.message,t.code)}},{key:"Type",get:function(){return mo}}]),o}(),So=new oe.WeakMap,bo=function(){function t(){i(this,t)}return n(t,null,[{key:"connect",value:function(t,e,n){var r=this;"function"==typeof e&&(n=e,e="");var o,i,a,c,u=so.sendBird;u?(o=u.getInstance(),i="".concat(so.apiHost,"/customers/auth/"),a={sendbirdAccessToken:e||"","content-type":"application/json"},c={sendbirdAppId:o.getApplicationId(),sendbirdId:t},nt.create({headers:a}).post(i,c).then(function(t){So.set(r,{deskToken:t.data.token}),io.write("[REQ] connection established"),so.callback(t.data,null,n)}).catch(function(t){so.callback(null,t,n)})):so.callback(null,Eo.create(Eo.Type.ERROR_SENDBIRD_SDK_MISSING),n)}},{key:"header",get:function(){return{sendbirdDeskToken:So.get(this).deskToken,"content-type":"application/json","user-agent":"desk-js@".concat("1.0.16")}}},{key:"getParam",get:function(){var t=so.sendBird;if(t){var e=t.getInstance();return"sendbirdAppId=".concat(e.getApplicationId())}return""}},{key:"postParam",get:function(){var t=so.sendBird;return t?{sendbirdAppId:t.getInstance().getApplicationId()}:{}}}]),t}(),Ro=function(){function e(t){i(this,e),this.fetchFromJSON(t)}return n(e,[{key:"fetchFromJSON",value:function(t){this.userId=t?t.user:0,this.name=t?t.displayName:"",this.profileUrl=t?t.photoThumbnailUrl:""}}]),e}(),ko=kt("navigator","userAgent")||"",Io=wt.process,Oo=Io&&Io.versions,To=Oo&&Oo.v8;To?vo=(go=To.split("."))[0]+go[1]:ko&&(!(go=ko.match(/Edge\/(\d+)/))||74<=go[1])&&(go=ko.match(/Chrome\/(\d+)/))&&(vo=go[1]);function Ao(e){return 51<=wo||!Y(function(){var t=[];return(t.constructor={})[Do]=function(){return{foo:1}},1!==t[e](Boolean).foo})}var wo=vo&&+vo,Do=vt("species"),_o=vt("isConcatSpreadable"),No=9007199254740991,Co="Maximum allowed index exceeded",xo=51<=wo||!Y(function(){var t=[];return t[_o]=!1,t.concat()[0]!==t}),Po=Ao("concat");_e({target:"Array",proto:!0,forced:!xo||!Po},{concat:function(t){for(var e,n,r,o=Ne(this),i=jr(o,0),a=0,c=-1,u=arguments.length;c<u;c++)if(function(t){if(!st(t))return!1;var e=t[_o];return void 0!==e?!!e:Mr(t)}(r=-1===c?o:arguments[c])){if(n=Et(r.length),No<a+n)throw TypeError(Co);for(e=0;e<n;e++,a++)e in r&&yo(i,a,r[e])}else{if(No<=a)throw TypeError(Co);yo(i,a++,r)}return i.length=a,i}});function jo(t,e){var n=[][t];return!!n&&Y(function(){n.call(null,e||function(){throw 1},1)})}function Uo(t){throw t}function Fo(t,e){if(yt(Mo,t))return Mo[t];var n=[][t],r=!!yt(e=e||{},"ACCESSORS")&&e.ACCESSORS,o=yt(e,0)?e[0]:Uo,i=yt(e,1)?e[1]:void 0;return Mo[t]=!!n&&!Y(function(){if(r&&!Dt)return 1;var t={length:-1};r?Lo(t,1,{enumerable:!0,get:Uo}):t[1]=1,n.call(t,o,i)})}var Lo=Object.defineProperty,Mo={},Bo=Kr.forEach,Go=jo("forEach"),Ko=Fo("forEach"),Ho=Go&&Ko?[].forEach:function(t,e){return Bo(this,t,1<arguments.length?e:void 0)};_e({target:"Array",proto:!0,forced:[].forEach!=Ho},{forEach:Ho});var zo=Yt.indexOf,Vo=[].indexOf,Jo=!!Vo&&1/[1].indexOf(1,-0)<0,qo=jo("indexOf"),Qo=Fo("indexOf",{ACCESSORS:!0,1:0});_e({target:"Array",proto:!0,forced:Jo||!qo||!Qo},{indexOf:function(t,e){return Jo?Vo.apply(this,arguments)||0:zo(this,t,1<arguments.length?e:void 0)}});var Wo=[].join,$o=it!=Object,Xo=jo("join",",");_e({target:"Array",proto:!0,forced:$o||!Xo},{join:function(t){return Wo.call(et(this),void 0===t?",":t)}});var Yo=Kr.map,Zo=Ao("map"),ti=Fo("map");_e({target:"Array",proto:!0,forced:!Zo||!ti},{map:function(t,e){return Yo(this,t,1<arguments.length?e:void 0)}});var ei=Kr.some,ni=jo("some"),ri=Fo("some");_e({target:"Array",proto:!0,forced:!ni||!ri},{some:function(t,e){return ei(this,t,1<arguments.length?e:void 0)}});var oi=Y(function(){ne(1)});_e({target:"Object",stat:!0,forced:oi},{keys:function(t){return ne(Ne(t))}});function ii(t,e){var n,r=so.sendBird;r?((n=r.getInstance().GroupChannel.createMyGroupChannelListQuery()).customTypesFilter=[si],n.channelUrlsFilter=t,n.includeEmpty=!0,n.next(e)):so.callback(null,Eo.create(Eo.Type.ERROR_SENDBIRD_SDK_MISSING),e)}function ai(e,i){var a=fi.Status.OPEN;fi.isStatus(e.status)&&(a=e.status);var t=a!==fi.Status.CLOSED?"status=ASSIGNED&status=UNASSIGNED":"status=CLOSED",n="".concat(so.apiHost,"/tickets/")+"?".concat(bo.getParam,"&limit=").concat(e.limit||fi.defaultLimit,"&offset=").concat(e.offset||0)+"&".concat(t,"&order=").concat(e.order||"-updated_at");e.channelUrl&&(n+="&channelUrl=".concat(e.channelUrl)),e.customFieldFilter&&"object"===h(e.customFieldFilter)&&(n+="&customFields="+encodeURIComponent(Object.keys(e.customFieldFilter).map(function(t){return"".concat(t,":").concat(encodeURIComponent(e.customFieldFilter[t]))}).join(","))),nt.create({headers:bo.header}).get(n).then(function(t){if(t&&t.data){var o=[],e=[];for(var n in t.data.results){var r=new fi(t.data.results[n]);li[r.channelUrl]=r,e.push(r.channelUrl),o.push(r)}ii(e,function(t,e){var n=so.getParamsFromCallback(t,e),r=n.result;n.err||o.forEach(function(t){for(var e in r){var n=r[e];if(t.channelUrl===n.url){t.channel=n;break}}}),io.write("[REQ] ".concat(a," ticket list:"),o),so.callback(o,n.err,i)})}else so.callback([],null,i)}).catch(function(t){return so.callback(null,t,i)})}var ci=function(){function t(){i(this,t)}return n(t,null,[{key:"CustomType",get:function(){return{RICH_MESSAGE:"SENDBIRD_DESK_RICH_MESSAGE",ADMIN_MESSAGE:"SENDBIRD_DESK_ADMIN_MESSAGE_CUSTOM_TYPE"}}},{key:"DataType",get:function(){return{TICKET_INQUIRE_CLOSURE:"SENDBIRD_DESK_INQUIRE_TICKET_CLOSURE",TICKET_ASSIGN:"TICKET_ASSIGN",TICKET_TRANSFER:"TICKET_TRANSFER",TICKET_CLOSE:"TICKET_CLOSE",TICKET_FEEDBACK:"SENDBIRD_DESK_CUSTOMER_SATISFACTION",URL_PREVIEW:"SENDBIRD_DESK_URL_PREVIEW"}}},{key:"ClosureState",get:function(){return{WAITING:"WAITING",CONFIRMED:"CONFIRMED",DECLINED:"DECLINED"}}},{key:"FeedbackState",get:function(){return{WAITING:"WAITING",CONFIRMED:"CONFIRMED"}}},{key:"UrlRegExp",get:function(){return/(?:(?:https?|ftp):\/\/)?(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,}))\.?)(?::\d{2,5})?(?:[/?#]\S*)?/gi}}]),t}(),ui=function(){function e(t){i(this,e),this.fetchFromJSON(t)}return n(e,[{key:"fetchFromJSON",value:function(t){this.channelUrl=t?t.channel_url:"",this.name=t?t.name:""}}]),e}(),si="SENDBIRD_DESK_CHANNEL_CUSTOM_TYPE",li={},fi=function(){function d(t){i(this,d),this.fetchFromJSON(t)}return n(d,[{key:"fetchFromJSON",value:function(t){if(this.id=t?t.id:0,this.title=t?t.channelName:"",this.status=t?t.status:"",this.info=t&&t.info?JSON.parse(t.info):null,this.priority=t?t.priority:d.Priority.MEDIUM,this.agent=t&&t.recentAssignment&&t.recentAssignment.agent?new Ro(t.recentAssignment.agent):null,this.customer=t?t.customer:null,this.customFields={},this.relatedChannels=[],this.channel=this.channel,this.channelUrl=t?t.channelUrl:null,this.updatedAt=t?new Date(t.updatedAt).getTime():(new Date).getTime(),t&&t.customFields)for(var e=t.customFields,n=0;n<e.length;n++){var r=e[n].key,o=e[n].value;this.customFields[r]=o}if(t&&t.relatedChannels)try{var i=JSON.parse(t.relatedChannels);Array.isArray(i)&&(this.relatedChannels=i.map(function(t){return new ui(t)}))}catch(t){}}},{key:"refresh",value:function(r){var o=this,t="".concat(so.apiHost,"/tickets/").concat(this.id,"/?").concat(bo.getParam);nt.create({headers:bo.header}).get(t).then(function(t){o.fetchFromJSON(t.data),ii([o.channelUrl],function(t,e){var n=so.getParamsFromCallback(t,e).result;0<n.length&&(o.channel=n[0]),li[o.channelUrl]=o,io.write("[REQ] ticket refresh:",o),so.callback(o,null,r)})}).catch(function(t){return so.callback(null,t,r)})}},{key:"reopen",value:function(r){var o=this,t="".concat(so.apiHost,"/tickets/").concat(this.id,"/reopen"),e=bo.postParam;nt.create({headers:bo.header}).patch(t,e).then(function(t){t.data.channelUrl?(o.fetchFromJSON(t),ii([o.channelUrl],function(t,e){var n=so.getParamsFromCallback(t,e).result;0<n.length&&(o.channel=n[0]),li[o.channelUrl]=o,io.write("[REQ] ticket reopen:",o),so.callback(o,null,r)})):so.callback(o,null,r)}).catch(function(t){return so.callback(null,t,r)})}},{key:"close",value:function(t,r){var o=this;if(1===arguments.length){if("function"!=typeof t)return void so.callback(null,Eo.create(Eo.Type.ERROR_INVALID_PARAMETER),r);r=t,t=null}else if("string"!=typeof t||"function"!=typeof r)return void so.callback(null,Eo.create(Eo.Type.ERROR_INVALID_PARAMETER),r);var e="".concat(so.apiHost,"/tickets/").concat(this.id,"/close"),n=bo.postParam;t&&(n.closeComment=t),nt.create({headers:bo.header}).patch(e,n).then(function(t){t.data.channelUrl?(o.fetchFromJSON(t),ii([o.channelUrl],function(t,e){var n=so.getParamsFromCallback(t,e).result;0<n.length&&(o.channel=n[0]),li[o.channelUrl]=o,io.write("[REQ] ticket close:",o),so.callback(o,null,r)})):so.callback(o,null,r)}).catch(function(t){return so.callback(null,t,r)})}},{key:"setPriority",value:function(t,e){var n,r,o=this;Object.keys(d.Priority).map(function(t){return d.Priority[t]}).indexOf(t)<0?so.callback(null,Eo.create(Eo.Type.ERROR_INVALID_PARAMETER),e):(n="".concat(so.apiHost,"/tickets/").concat(this.id,"/"),(r=bo.postParam).priority=t,nt.create({headers:bo.header}).patch(n,r).then(function(t){o.fetchFromJSON(t.data),so.callback(o,null,e)}).catch(function(t){so.callback(null,t,e)}))}},{key:"setRelatedChannelUrls",value:function(t,e){var n,r,o=this;Array.isArray(t)&&!t.some(function(t){return"string"!=typeof t})?(n="".concat(so.apiHost,"/tickets/").concat(this.id,"/"),(r=bo.postParam).relatedChannelUrls=t.join(","),nt.create({headers:bo.header}).patch(n,r).then(function(t){o.fetchFromJSON(t.data),so.callback(o,null,e)}).catch(function(t){so.callback(null,t,e)})):so.callback(null,Eo.create(Eo.Type.ERROR_INVALID_PARAMETER),e)}},{key:"setCustomFields",value:function(t,e){var n=this;if("object"!==h(t)||null===t||Array.isArray(t))so.callback(null,Eo.create(Eo.Type.ERROR_INVALID_PARAMETER),e);else{var r={};for(var o in t)r[o]="string"==typeof t[o]?t[o]:JSON.stringify(t[o]);var i="".concat(so.apiHost,"/tickets/").concat(this.id,"/custom_fields/"),a=bo.postParam;a.customFields=JSON.stringify(r),nt.create({headers:bo.header}).patch(i,a).then(function(t){n.fetchFromJSON(t.data),so.callback(n,null,e)}).catch(function(t){so.callback(null,t,e)})}}}],[{key:"isStatus",value:function(t){for(var e in d.Status)if(d.Status[e]===t)return!0;return!1}},{key:"isPriority",value:function(t){for(var e in d.Priority)if(d.Priority[e]===t)return!0;return!1}},{key:"isDeskCustomType",value:function(t){return t===si}},{key:"clearCache",value:function(t){t?(delete li[t],io.write("[SYS] cached ticket for ".concat(t," cleared"))):(li={},io.write("[SYS] all cached ticket cleared"))}},{key:"create",value:function(t,e,n,r,o,i,a){var c=so.sendBird;if(c){if("function"==typeof n&&(a=n,i=o=r=n=null),"function"==typeof r&&(a=r,i=o=r=null),"function"==typeof o&&(a=o,i=o=null),"function"==typeof i&&(a=i,i=null),"string"!=typeof t||"string"!=typeof e||n&&"string"!=typeof n||r&&"object"!==h(r)||o&&!d.isPriority(o)||i&&(!Array.isArray(i)||i.some(function(t){return"string"!=typeof t}))||Array.isArray(r))return void so.callback(null,Eo.create(Eo.Type.ERROR_INVALID_PARAMETER),a);var u=c.getInstance(),s="".concat(so.apiHost,"/tickets/"),l=bo.postParam;if(l.channelName=t,l.channelType="SENDBIRD_JAVASCRIPT",n&&(l.groupKey=n),r){var f={};for(var p in r)f[p]="string"==typeof r[p]?r[p]:JSON.stringify(r[p]);l.customFields=JSON.stringify(f)}o&&(l.priority=o),i&&(l.relatedChannelUrls=i.join(",")),l.info=JSON.stringify({ticket:{subject:t,requester:{name:e,email:u.getCurrentUserId()}}}),nt.create({headers:bo.header}).post(s,l).then(function(t){var r=new d(t.data);ii([r.channelUrl],function(t,e){var n=so.getParamsFromCallback(t,e).result;0<n.length&&(r.channel=n[0]),li[r.channelUrl]=r,io.write("[REQ] ticket create:",r),so.callback(r,null,a)})}).catch(function(t){return so.callback(null,t,a)})}else so.callback(null,Eo.create(Eo.Type.ERROR_SENDBIRD_SDK_MISSING),a)}},{key:"getOpenCount",value:function(e){var t="".concat(so.apiHost,"/tickets/count/?").concat(bo.getParam);nt.create({headers:bo.header}).get(t).then(function(t){return so.callback(t.data,null,e)}).catch(function(t){return so.callback(null,t,e)})}},{key:"getByChannelUrl",value:function(o,i){var t;li[o]?so.callback(li[o],null,i):(t="".concat(so.apiHost,"/tickets/?").concat(bo.getParam,"&limit=10&channelUrl=").concat(o),nt.create({headers:bo.header}).get(t).then(function(t){var r=null;t&&t.data&&0<t.data.results.length&&(r=new d(t.data.results[0])),r?ii([o],function(t,e){var n=so.getParamsFromCallback(t,e).result;0<n.length&&(r.channel=n[0]),li[o]=r,io.write("[REQ] get ticket for channel ".concat(o,":"),r),so.callback(r,null,i)}):so.callback(null,Eo.Type.ERROR_DATA_NOT_FOUND,i)}).catch(function(t){return so.callback(null,t,i)}))}},{key:"getOpenedList",value:function(t,e,n){"function"==typeof e&&(n=e,e=null),ai({offset:t,customFieldFilter:e,status:this.Status.OPEN},n)}},{key:"getClosedList",value:function(t,e,n){"function"==typeof e&&(n=e,e=null),ai({offset:t,customFieldFilter:e,status:this.Status.CLOSED},n)}},{key:"getUrlPreview",value:function(t,e){var n="".concat(so.apiHost,"/tickets/url_preview/"),r=bo.postParam;r.url=t,nt.create({headers:bo.header}).post(n,r).then(function(t){return so.callback(t.data,null,e)}).catch(function(t){return so.callback(null,t,e)})}},{key:"confirmEndOfChat",value:function(i,a,c){"string"==typeof a&&-1<["yes","no"].indexOf(a)?d.getByChannelUrl(i.channelUrl,function(t,e){var n=so.getParamsFromCallback(t,e).result,r="".concat(so.apiHost,"/tickets/").concat(n.id,"/edit_message/"),o=bo.postParam;o.messageId=i.messageId,o.messageData=JSON.stringify({type:ci.DataType.TICKET_INQUIRE_CLOSURE,body:{state:"yes"===a?ci.ClosureState.CONFIRMED:ci.ClosureState.DECLINED,ticketId:n.id}}),nt.create({headers:bo.header}).patch(r,o).then(function(t){io.write("[REQ] confirmed end of chat:",n),so.callback(t.data,null,c)}).catch(function(t){return so.callback(null,t,c)})}):so.callback(null,Eo.create(Eo.Type.ERROR_INVALID_PARAMETER))}},{key:"submitFeedback",value:function(i,a,t,e){var c=2<arguments.length&&void 0!==t?t:"",u=3<arguments.length?e:void 0;i&&0<i.messageId&&i.channelUrl&&"number"==typeof a&&1<=a&&a<=5&&"string"==typeof c?d.getByChannelUrl(i.channelUrl,function(t,e){var n=so.getParamsFromCallback(t,e).result,r="".concat(so.apiHost,"/tickets/").concat(n.id,"/edit_message/"),o=bo.postParam;o.messageId=i.messageId,o.messageData=JSON.stringify({type:ci.DataType.TICKET_FEEDBACK,body:{state:ci.FeedbackState.CONFIRMED,customerSatisfactionScore:a,customerSatisfactionComment:c,ticketId:n.id}}),nt.create({headers:bo.header}).patch(r,o).then(function(t){io.write("[REQ] customer feedback:",n),so.callback(t.data,null,u)}).catch(function(t){return so.callback(null,t,u)})}):so.callback(null,Eo.create(Eo.Type.ERROR_INVALID_PARAMETER))}},{key:"Status",get:function(){return{INITIALIZED:"INITIALIZED",PROACTIVE:"PROACTIVE",UNASSIGNED:"UNASSIGNED",ASSIGNED:"ASSIGNED",OPEN:"OPEN",CLOSED:"CLOSED"}}},{key:"Priority",get:function(){return{URGENT:"URGENT",HIGH:"HIGH",MEDIUM:"MEDIUM",LOW:"LOW"}}},{key:"defaultLimit",get:function(){return 10}}]),d}(),pi=!1;return function(){function t(){i(this,t)}return n(t,null,[{key:"init",value:function(t){try{t||(window&&window.SendBird&&(t=window.SendBird),global&&global.SendBird&&(t=global.SendBird)),t&&t.version?(so.sendBird=t,so.isSendBirdSdkCompatible(t.version)?pi=!0:Eo.throw(Eo.Type.ERROR_SENDBIRD_SDK_VERSION_NOT_SUPPORTED)):Eo.throw(Eo.Type.ERROR_SENDBIRD_SDK_MISSING)}catch(t){Eo.throw(Eo.Type.ERROR_SENDBIRD_SDK_MISSING)}}},{key:"authenticate",value:function(t,e,n){pi?bo.connect(t,e,n):Eo.throw(Eo.Type.ERROR_SENDBIRD_DESK_INIT_MISSING)}},{key:"isDeskChannel",value:function(t){return fi.isDeskCustomType(t.customType)}},{key:"setApiHost",value:function(t){so.apiHost=t}},{key:"setDebugMode",value:function(){so.setDebugMode()}},{key:"setCustomerCustomFields",value:function(t,o){if("object"!==h(t)||null===t||Array.isArray(t))so.callback(null,Eo.create(Eo.Type.ERROR_INVALID_PARAMETER),o);else{var e={};for(var n in t)e[n]="string"==typeof t[n]?t[n]:JSON.stringify(t[n]);var r="".concat(so.apiHost,"/customers/custom_fields/"),i=bo.postParam;i.customFields=JSON.stringify(e),nt.create({headers:bo.header}).patch(r,i).then(function(t){var e={};for(var n in t.data.customFields){var r=t.data.customFields[n];e[r.key]=r.value}so.callback(e,null,o)}).catch(function(t){so.callback(null,t,o)})}}},{key:"version",get:function(){return so.sdkVersion}},{key:"Error",get:function(){return Eo}},{key:"Agent",get:function(){return Ro}},{key:"Ticket",get:function(){return fi}},{key:"Message",get:function(){return ci}},{key:"RelatedChannel",get:function(){return ui}},{key:"UrlRegExp",get:function(){return ci.UrlRegExp}}]),t}()});